{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Pakistan Tourist Guide - XYZ Technologies</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="tourism, travel, Pakistan tours, guide">
  <meta name="description" content="Discover the best destinations in Pakistan with our online tourist guide. Explore scenic valleys, historic sites, and cultural experiences.">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600&family=Roboto&display=swap" rel="stylesheet">
<!-- Bootstrap CSS (in <head>) -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <!-- Bootstrap JS & Popper (before closing </body>) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
    <!-- <script src="https://unpkg.com/htmx.org@1.9.10"></script> -->

  <!-- Font Awesome & Bootstrap Icons -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Third-Party Libraries -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightbox2@2.11.3/dist/css/lightbox.min.css"/>
  <link href="{% static 'css/owl.carousel.min.css' %}" rel="stylesheet">
<!-- FullCalendar JS -->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>

  <!-- Bootstrap Stylesheet -->
  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

  <!-- Custom Template Styles -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
<!-- jQuery (Load First) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

<!-- Bootstrap Bundle JS (Load After jQuery) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Custom Styles -->
  <style>
    /* Top Bar */
    .topbar-height { height: 45px; }

    /* Carousel */
    .carousel-letter-spacing { letter-spacing: 3px; }
    .carousel-maxwidth { max-width: 900px; }

    /* Search Bar */
    .search-bar-bg { background: rgba(19, 53, 123, 0.8); }
    .search-bar-position { position: relative; top: -50%; transform: translateY(-50%); }

    /* Diagonal Border */
    .diagonal-border {
      border-top: 50px solid transparent;
      border-right: 50px solid #13357B;
      border-bottom: 50px solid transparent;
      border-left: 50px solid #13357B;
    }

    /* About Section Overlay */
    .about-overlay {
      background: linear-gradient(rgba(255,255,255,0.8), rgba(255,255,255,0.8)),
                  url("{% static 'img/about-img-1.png' %}") center/cover no-repeat;
    }

    /* Destination & Search Icon */
    .destination-img { position: relative; }
    .search-icon { position: absolute; top: 10px; right: 10px; }

    /* Travel Tips Header */
    .travel-tips-header {
      text-align: center;
      font-size: 16px;
      font-weight: bold;
      color: #0a3d62;
      letter-spacing: 1px;
      text-transform: uppercase;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .travel-tips-header::before,
    .travel-tips-header::after {
      content: "";
      display: inline-block;
      width: 50px;
      height: 2px;
      background-color: #0a3d62;
      margin: 0 10px;
    }

    /* Travel Tip Cards */
    .tip-card {
      transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }
    .tip-card:hover {
      transform: translateY(-5px);
      box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.1);
    }

    /* Star Ratings */
    .rating i { font-size: 20px; }

    /* Rounded Filter Buttons */
    .filter-btn {
      border-radius: 30px;
      padding: 8px 20px;
      font-weight: bold;
    }

    /* Active Season Button */
    .filter-btn.active {
      background-color: #002147 !important;
      color: white !important;
      border: none;
    }

    /* Cards */
    .container { margin-top: 30px; }
    .card {
      margin-bottom: 20px;
      transition: transform 0.3s ease-in-out;
    }
    .card:hover {
      transform: scale(1.05);
    }
    /* Style for notifications */
.notification-item {
    padding: 10px;
    border-bottom: 1px solid #ddd;
}

.notification-item.unread {
    font-weight: bold;
    background-color: #f5f5f5;
}

.notification-item .mark-as-read {
    font-size: 0.9rem;
    color: #007bff;
    cursor: pointer;
}

.notification-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background-color: red;
    color: white;
    padding: 5px;
    border-radius: 50%;
}


.dashboard-booking-section {
    background-color: #ffffff;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
    padding: 30px;
    margin: 40px auto;
    max-width: 95%;
}

.booking-table-custom {
    border-collapse: separate;
    border-spacing: 0;
    width: 100%;
}

.booking-table-custom thead th {
    background-color: #2c3e50;
    color: #ffffff;
    padding: 14px;
    font-size: 15px;
    text-transform: uppercase;
    border: none;
}

.booking-table-custom tbody td {
    padding: 12px;
    font-size: 14px;
    color: #333;
    background-color: #fff;
    border-bottom: 1px solid #e0e0e0;
}

.booking-table-custom tbody tr:hover {
    background-color: #f2f2f2;
}

.badge {
    font-size: 0.8rem;
    padding: 5px 12px;
    border-radius: 20px;
    color: white;
    display: inline-block;
}

.badge.bg-success {
    background-color: #27ae60;
}

.badge.bg-danger {
    background-color: #e74c3c;
}

.badge.bg-info {
    background-color: #2980b9;
}

</style>

</head>

    <body>
       <!-- Display success messages -->
{% if messages %}
<div class="position-fixed top-0 start-0 p-3" style="z-index: 1050;">
    {% for message in messages %}
    <div class="toast align-items-center text-white bg-{{ message.tags }} border-0 show mb-2" role="alert">
        <div class="d-flex">
            <div class="toast-body">
                {{ message }}
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var toastElList = [].slice.call(document.querySelectorAll('.toast'))
    var toastList = toastElList.map(function (toastEl) {
      return new bootstrap.Toast(toastEl, { delay: 3000 });
    });
    toastList.forEach(toast => toast.show());
  });
</script>


    <!-- Spinner Start -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
        <span class="sr-only">Loading...</span>
        </div>
    </div>
   <!-- Topbar Start -->
<div class="container-fluid bg-primary px-5 d-none d-lg-block">
    <div class="row gx-0">
        <div class="col-lg-8 text-center text-lg-start mb-2 mb-lg-0">
            <!-- Optional: Add social media links here -->
        </div>
        <div class="col-lg-4 text-center text-lg-end">
            <div class="d-inline-flex align-items-center" style="height: 45px;">
                {% if user.is_authenticated %}
                    <span class="text-light me-3">
                        Welcome, <strong>
                            {% if user.mobile_number %}
                                {{ user.mobile_number }}
                            {% else %}
                                {{ user.username }}
                            {% endif %}
                        </strong>
                    </span>
             <!-- notifications.html -->
<!-- dashboard.html -->
<div class="dropdown">
  <a href="#" class="nav-link dropdown-toggle text-light position-relative" id="notificationDropdown" data-bs-toggle="dropdown" aria-expanded="false">
    <i class="fas fa-bell fa-lg"></i>
    {% if unseen_count > 0 %}
      <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
        {{ unseen_count }}
        <span class="visually-hidden">unread notifications</span>
      </span>
    {% endif %}
  </a>

  <ul class="dropdown-menu dropdown-menu-end shadow-sm p-2" style="min-width: 300px; max-height: 300px; overflow-y: auto;" aria-labelledby="notificationDropdown">
    <li><h6 class="dropdown-header">Notifications</h6></li>
    {% if notifications %}
      {% for notification in notifications %}
        <li class="dropdown-item {% if not notification.seen %}fw-bold{% endif %}" id="notification-{{ notification.id }}">
          <div>{{ notification.message }}</div>
          <small class="text-muted">{{ notification.created_at|date:"M d, Y H:i" }}</small>
          {% if not notification.seen %}<br>
            <a href="#" class="mark-as-read text-primary" data-id="{{ notification.id }}">Mark as read</a>
          {% endif %}
        </li>
        <li><hr class="dropdown-divider"></li>
      {% endfor %}
    {% else %}
      <li class="dropdown-item text-muted">No notifications at the moment.</li>
    {% endif %}
  </ul>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".mark-as-read").forEach(link => {
      link.addEventListener("click", function(e) {
        e.preventDefault();
        const notifId = this.dataset.id;
        fetch(`/users/notifications/${notifId}/read/`, {
          method: "POST",
          headers: {
            "X-CSRFToken": "{{ csrf_token }}",
            "Content-Type": "application/x-www-form-urlencoded"
          }
        })
        .then(response => response.json())
        .then(data => {
          if (data.status === "ok") {
            const notifElem = document.getElementById(`notification-${notifId}`);
            notifElem.classList.remove("fw-bold");
            this.remove();
            if (data.unseen_count > 0) {
              document.querySelector(".badge").textContent = data.unseen_count;
            } else {
              document.querySelector(".badge").style.display = 'none';
            }
          }
        });
      });
    });
  });
</script>
                    <!-- Profile Dropdown -->
                    <div class="dropdown ms-2">
                        <a href="#" class="dropdown-toggle text-light" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            {% if user.profile_picture %}
                                <img src="{{ user.profile_picture.url }}" alt="Profile"
                                     style="width: 40px; height: 40px; border-radius: 50%; margin-right: 5px;">
                            {% else %}
                                <img src="{% static 'img/default_avatar.png' %}" alt="Default Avatar"
                                     style="width: 40px; height: 40px; border-radius: 50%; margin-right: 5px;">
                            {% endif %}
                            <small>My Profile</small>
                        </a>
                        <ul class="dropdown-menu rounded" aria-labelledby="profileDropdown">
                            <li><a href="{% url 'profile_update' %}" class="dropdown-item">
                                <i class="fas fa-edit me-2"></i> Update Profile
                            </a></li>
                            <li><a href="{% url 'analytics_dashboard' %}" class="dropdown-item">
                                <i class="fas fa-edit me-2"></i> View insight 
                            </a></li>
                            <li>
                                <form action="{% url 'logout' %}" method="post" style="display: inline;">
                                    {% csrf_token %}
                                    <button type="submit" class="dropdown-item text-danger">
                                        <i class="fas fa-sign-out-alt me-2"></i> Logout
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </div>
                {% else %}
                    <a href="{% url 'register' %}" class="btn btn-sm btn-outline-light me-3">
                        <i class="fa fa-user me-2"></i> Register
                    </a>
                    <a href="{% url 'login' %}" class="btn btn-sm btn-light">
                        <i class="fa fa-sign-in-alt me-2"></i> Login
                    </a>
                {% endif %}
            </div>
        </div>
    </div>
</div>
<!-- Topbar End -->

 


 <!-- Navbar & Hero Start -->
<div class="container-fluid position-relative p-0">
    <nav class="navbar navbar-expand-lg navbar-light px-4 px-lg-5 py-3 py-lg-0">
        <a href="#" class="navbar-brand p-0">
            <h1 class="m-0"><i class="fa fa-map-marker-alt me-3"></i>Pakistan Tours</h1>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="fa fa-bars"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto py-0 align-items-center d-flex">
                <a href="#home" class="nav-item nav-link active">Home</a>
                <a href="#about-us" class="nav-item nav-link">About Us</a>
                <a href="#destinations" class="nav-item nav-link">Destinations</a>
                <a href="#book Now" class="nav-item nav-link">Book Now</a>
                <a href="#contact-us" class="nav-item nav-link">Contact Us</a>
            
            <!-- Submit a Tip Button (Aligned & Styled) -->
                <button class="btn btn-primary btn-sm ms-3" style="font-size: 14px; padding: 7px 13px;" data-bs-toggle="modal" data-bs-target="#submitTipModal">
                    Submit a Tip
                </button>
            </div>
            
        </div>
    </nav>
</div>
<!-- Submit Tip Modal -->
<div class="modal fade" id="submitTipModal" tabindex="-1" aria-labelledby="submitTipModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-primary" id="submitTipModalLabel">
                    <i class="fas fa-plus-circle"></i> Submit a Travel Tip
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Tip Form -->
                <form id="submitTipForm" method="POST">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="title" class="form-label fw-bold">Tip Title</label>
                        <input type="text" name="title" id="title" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="content" class="form-label fw-bold">Tip Content</label>
                        <textarea name="content" id="content" class="form-control" rows="3" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="season" class="form-label fw-bold">Select Season</label>
                        <select name="season" id="season" class="form-select" required>
                            <option value="Autumn">Autumn</option>
                            <option value="Spring">Spring</option>
                            <option value="Summer">Summer</option>
                            <option value="Winter">Winter</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="tip_type" class="form-label fw-bold">Tip Type</label>
                        <select name="tip_type" id="tip_type" class="form-select" required>
                            <option value="Safety">Safety</option>
                            <option value="Budget">Budget</option>
                            <option value="Packing">Packing</option>
                            <option value="General">General</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">
                        <i class="fas fa-paper-plane"></i> Submit Tip
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById("submitTipForm").addEventListener("submit", function(event) {
        event.preventDefault();
    
        let formData = new FormData(this);
    
        fetch("{% url 'submit_tip' %}", {
            method: "POST",
            body: formData,
            headers: {
                "X-CSRFToken": "{{ csrf_token }}",
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === "success") {
                alert("Tip submitted successfully! Pending admin approval.");
    
                // Reset the form
                this.reset();
    
                // Close the modal
                const modalElement = document.getElementById("submitTipModal");
                const modal = bootstrap.Modal.getInstance(modalElement);
                if (modal) {
                    modal.hide();
                }
    
                // Delay cleanup slightly to let Bootstrap finish hiding modal
                setTimeout(() => {
                    document.body.classList.remove('modal-open');
                    document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());
                    document.body.style.overflow = 'auto'; // Restore scrolling
                }, 500);
            } else {
                alert("Error submitting tip. Please try again.");
            }
        })
        .catch(error => {
            console.error("Error:", error);
            alert("An unexpected error occurred.");
        });
    });
    </script>
    
    
    <!-- Carousel Start -->
    <div class="carousel-header">
      <div id="carouselId" class="carousel slide" data-bs-ride="carousel">
        <ol class="carousel-indicators">
          <li data-bs-target="#carouselId" data-bs-slide-to="0" class="active"></li>
          <li data-bs-target="#carouselId" data-bs-slide-to="1"></li>
          <li data-bs-target="#carouselId" data-bs-slide-to="2"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
          <div class="carousel-item active">
            <img src="{% static 'img/destination-9.jpg' %}" class="img-fluid" alt="Slide 1">
            <div class="carousel-caption">
              <div class="p-3 carousel-maxwidth">
                <h4 class="text-white text-uppercase fw-bold mb-4 carousel-letter-spacing">Explore Pakistan</h4>
                <h1 class="display-2 text-capitalize text-white mb-4">Explore Pakistan Together!</h1>
                <p class="mb-5 fs-5">Experience the rich heritage and natural beauty of Pakistan‚Äîfrom majestic mountains to vibrant cities.</p>
                <div class="d-flex align-items-center justify-content-center">
                  <a class="btn-hover-bg btn btn-primary rounded-pill text-white py-3 px-5" href="#">Discover Now</a>
                </div>
              </div>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'img/photo-2.jpg' %}" class="img-fluid" alt="Slide 2">
            <div class="carousel-caption">
              <div class="p-3 carousel-maxwidth">
                <h4 class="text-white text-uppercase fw-bold mb-4 carousel-letter-spacing">Explore Pakistan</h4>
                <h1 class="display-2 text-capitalize text-white mb-4">Find Your Perfect Tour</h1>
                <p class="mb-5 fs-5">Choose from tours that cater to adventure, culture, and relaxation across Pakistan's diverse landscapes.</p>
                <div class="d-flex align-items-center justify-content-center">
                  <a class="btn-hover-bg btn btn-primary rounded-pill text-white py-3 px-5" href="#">Discover Now</a>
                </div>
              </div>
            </div>
          </div>
          <div class="carousel-item">
            <img src="{% static 'img/hunza-2.jpg' %}" class="img-fluid" alt="Slide 3">
            <div class="carousel-caption">
              <div class="p-3 carousel-maxwidth">
                <h4 class="text-white text-uppercase fw-bold mb-4 carousel-letter-spacing">Explore Pakistan</h4>
                <h1 class="display-2 text-capitalize text-white mb-4">Where Would You Like To Go?</h1>
                <p class="mb-5 fs-5">From the scenic valleys of Hunza to the cultural heartbeat of Lahore, your next adventure awaits.</p>
                <div class="d-flex align-items-center justify-content-center">
                  <a class="btn-hover-bg btn btn-primary rounded-pill text-white py-3 px-5" href="#">Discover Now</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselId" data-bs-slide="prev">
          <span class="carousel-control-prev-icon btn bg-primary" aria-hidden="false"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselId" data-bs-slide="next">
          <span class="carousel-control-next-icon btn bg-primary" aria-hidden="false"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
    <!-- Carousel End -->
  </div>

  <!-- Search Bar Start -->
  <div class="container-fluid search-bar-position">
    <div class="container">
      <div class="position-relative rounded-pill w-100 mx-auto p-5 search-bar-bg">
        <input class="form-control border-0 rounded-pill w-100 py-3 ps-4 pe-5" type="text" placeholder="Eg: Lahore">
        <button type="button" class="btn btn-primary rounded-pill py-2 px-4 position-absolute me-2" style="top: 50%; right: 46px; transform: translateY(-50%);">
          Search
        </button>
      </div>
    </div>
  </div>
  <!-- Search Bar End -->

  <!-- About Us Start -->
  <div class="container-fluid about py-5" id="about-us">
    <div class="container py-5">
      <div class="row g-5 align-items-center">
        <div class="col-lg-5">
          <div class="h-100 diagonal-border">
            <img src="{% static 'img/pexels-mikhail-nilov-7820311.jpg' %}" class="img-fluid w-100 h-100" alt="About Pakistan Tours">
          </div>
        </div>
        <div class="col-lg-7 about-overlay">
            
          <h5 class="section-about-title pe-3">About Us</h5>
          <h1 class="mb-4">Welcome to <span class="text-primary">Pakistan Tours</span></h1>
          <p>
            Discover the vibrant culture and breathtaking landscapes of Pakistan with our expertly curated tours.
            Whether you're exploring ancient forts in the north or vibrant bazaars in the south, our guides help you uncover the hidden gems of this extraordinary country.
          </p>
          <p>
            Our travel platform provides insider tips, detailed itineraries, and personalized recommendations to ensure your journey is unforgettable.
            Experience everything Pakistan has to offer‚Äîfrom majestic mountain retreats to the rich heritage of its historic cities.
          </p>
          <ul>
            <li>Scenic Flights & Helicopter Tours</li>
            <li>Handpicked Luxury Hotels</li>
            <li>5-Star Accommodations</li>
            <li>Modern, Comfortable Transportation</li>
            <li>Over 150 Curated City Tours</li>
            <li>24/7 Dedicated Customer Support</li>
          </ul>
          <a class="btn btn-primary rounded-pill py-3 px-5 mt-2" href="#">Read More</a>
        </div>
      </div>
    </div>
  </div>
  <!-- About Us End -->
<!-- Recommended Section Start -->
<div class="container py-5" id="recommended-destinations">
  <div class="mx-auto text-center mb-5" style="max-width: 900px;">
    <h5 class="section-title px-3">Suggestions</h5>
    <h1 class="mb-0">üåç Recommended Destinations For You</h1>
  </div>
  
  <div class="row">
    {% if recommended_destinations %}
      {% for destination in recommended_destinations %}
        <div class="col-md-4 mb-3">
          <div class="card shadow-sm h-100">
            <img src="{{ destination.image.url }}" class="card-img-top" alt="{{ destination.name }}">
            <div class="card-body">
              <h5 class="card-title">{{ destination.name }}</h5>
              <p class="card-text">{{ destination.description|truncatechars:100 }}</p>
              <a href="{% url 'destinations:destination_detail' destination.id %}" class="btn btn-outline-primary btn-sm">Explore</a>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <p class="text-center">No recommendations found yet.</p>
    {% endif %}
  </div>
</div>
<!-- Popular Seasonal Destinations Section -->
<div class="container py-5" id="seasonal-destinations">
  <div class="mx-auto text-center mb-5" style="max-width: 900px;">
    <h5 class="section-title px-3">Popular Destinations</h5>
    <h1 class="mb-0">üå§Ô∏è For {{ selected_season }}</h1>
    <p class="text-muted mt-2">Explore top-rated places curated just for your seasonal travel interest.</p>
  </div>

  <div class="row">
    {% for destination in seasonal_destinations %}
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm h-100">
          {% if destination.image %}
            <img src="{{ destination.image.url }}" class="card-img-top" alt="{{ destination.name }}" style="height: 220px; object-fit: cover;">
          {% endif %}
          <div class="card-body">
            <h5 class="card-title text-primary fw-semibold">{{ destination.name }}</h5>
            <p class="card-text text-muted">{{ destination.description|truncatewords:20 }}</p>
            <p><strong>Location:</strong> {{ destination.location }}</p>
            <a href="{% url 'destinations:destination_detail' destination.id %}" class="btn btn-outline-primary btn-sm rounded-pill">View Details</a>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12 text-center">
        <p class="text-muted">No destinations found for {{ selected_season }}.</p>
      </div>
    {% endfor %}
  </div>
</div>



{% load static %}
<section class="text-center my-5">
    <h5 class="section-title text-primary fw-bold px-3">Recommended Activities</h5>


 <section class="row g-4">
     {% for activity in recommended_activities %}
     <div class="col-md-4">
         <div class="card h-100 shadow-sm">
             {% if activity.image %}
                 <img src="{{ activity.image.url }}" class="card-img-top" style="height:200px; object-fit:cover;">
             {% endif %}
             <div class="card-body d-flex flex-column">
                 <!-- Title & Description -->
                 <h5 class="card-title">{{ activity.title }}</h5>
                 <p class="card-text text-muted">{{ activity.description|truncatewords:15 }}</p>

                 <!-- Location & Date -->
                 <p class="mb-1"><i class="fas fa-map-marker-alt"></i> {{ activity.destination.name }}</p>
                 <!-- Discount -->
                 {% if activity.discount %}
                     <span class="badge bg-danger mb-3">üî• {{ activity.discount }}% Off</span>
                 {% endif %}

              

                 <!-- Social Share Icons -->
                 <div class="mt-auto">
                     <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}"
                        target="_blank" class="text-primary me-2"><i class="fab fa-facebook-square fa-lg"></i></a>
                     <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text={{ activity.title }}"
                        target="_blank" class="text-info me-2"><i class="fab fa-twitter fa-lg"></i></a>
                     <a href="https://www.reddit.com/submit?url={{ request.build_absolute_uri }}&title={{ activity.title }}"
     target="_blank" class="text-warning"><i class="fab fa-reddit fa-lg"></i></a>
                 </div>
             </div>
         </div>
     </div>

     {% endfor %}
 </section>
</section>

<!-- Star Rating CSS -->
<style>
.rating-stars {
 display: inline-block;
 direction: rtl;
 font-size: 1.5rem;
 unicode-bidi: bidi-override;
}
.rating-stars input {
 display: none;
}
.rating-stars label {
 color: #ddd;
 cursor: pointer;
}
.rating-stars input:checked ~ label,
.rating-stars label:hover,
.rating-stars label:hover ~ label {
 color: gold;
}
</style>

    
<section class="text-center my-5">
    <h5 class="section-title text-primary fw-bold px-3">üìÖ Upcoming Events</h5>

    {% if recommended_events %}
        <div class="row g-4 mt-4">
            {% for event in recommended_events %}
                <div class="col-md-4">
                    <div class="card shadow-sm border-0 rounded-4">
                        {% if event.image %}
                            <img src="{{ event.image.url }}" class="card-img-top" alt="{{ event.name }}" style="height: 200px; object-fit: cover;">
                        {% else %}
                            <img src="{% static 'images/default-event.jpg' %}" class="card-img-top" alt="Default Event" style="height: 200px; object-fit: cover;">
                        {% endif %}
                        <div class="card-body bg-light p-3">
                            <h5 class="card-title fw-bold text-dark">{{ event.name }}</h5>
                            <p class="text-muted">{{ event.description|truncatewords:20 }}</p>
                            <p><strong>üìç Location:</strong> {{ event.destination.name }}</p>
                            <p><strong>üìÖ Date:</strong> {{ event.start_date|date:"M d" }} - {{ event.end_date|date:"M d, Y" }}</p>
                        </div>

                        <!-- Social Media Links with Icons -->
                        <div class="mt-3">
                            <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}" target="_blank" class="text-primary mx-2">
                                <i class="fab fa-facebook-square fa-2x"></i>
                            </a>
                            <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text={{ event.name }}" target="_blank" class="text-info mx-2">
                                <i class="fab fa-twitter fa-2x"></i>
                            </a>
                            <a href="https://www.instagram.com" target="_blank" class="text-danger mx-2">
                                <i class="fab fa-instagram fa-2x"></i>
                            </a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-muted mt-3">No upcoming events found for this season.</p>
    {% endif %}
</section>



<!-- Event Calendar Section -->
<section class="my-5 text-center">
    <h5 class="section-title text-primary fw-bold mb-4">üóìÔ∏è Event Calendar</h5>
    <div id="calendar" class="mx-auto"></div> <!-- Centered with mx-auto -->
</section>

<!-- Custom style for calendar -->
<style>
    /* Centering the entire section */
    .my-5 {
        text-align: center;  /* Ensure text and elements inside the section are centered */
    }

    /* Centering the calendar container */
    #calendar {
        max-width: 900px;
        margin: 0 auto;  /* This centers the calendar horizontally */
        background: #fff;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
</style>

<!-- FullCalendar Script -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            themeSystem: 'bootstrap', // Apply Bootstrap theme for better styling
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,listWeek'
            },
            events: '/calendar-events/', // Django view returning JSON
            eventClick: function(info) {
                alert("Event: " + info.event.title + "\n\n" + info.event.extendedProps.description);
            }
        });

        calendar.render();
    });
</script>


<section class="text-center my-5">
    <h5 class="section-title px-3 text-primary fw-bold">TRAVEL TIPS</h5>
    <h2 class="fw-bold">Essential Travel Tips for Every Season</h2>

    <!-- Season Filter Buttons -->
    <div class="d-flex justify-content-center mt-4">
        <button class="btn btn-primary mx-2 filter-btn active" data-season="all">
            <i class="fas fa-globe"></i> All
        </button>
        <button class="btn btn-outline-primary mx-2 filter-btn" data-season="autumn">
            <i class="fas fa-leaf"></i> Autumn
        </button>
        <button class="btn btn-outline-primary mx-2 filter-btn" data-season="spring">
            <i class="fas fa-seedling"></i> Spring
        </button>
        <button class="btn btn-outline-primary mx-2 filter-btn" data-season="summer">
            <i class="fas fa-sun"></i> Summer
        </button>
        <button class="btn btn-outline-primary mx-2 filter-btn" data-season="winter">
            <i class="fas fa-snowflake"></i> Winter
        </button>
    </div>

   <!-- Travel Tips Cards -->
<div class="container mt-5">
    <div id="tips-container" class="row justify-content-center">
        {% for season, tips in travel_tips.items %}
            {% if tips %}
                {% for tip in tips %}
                    <div class="col-md-4 mb-4 season-group" data-season="{{ season|lower }}">
                        <div class="card tip-card shadow-lg border-0 rounded-3">
                            <div class="card-body text-center p-4">
                                <!-- Title with Season Icon -->
                                <h5 class="card-title fw-bold text-dark">
                                    {% if season == "Autumn" %}
                                        <i class="fas fa-leaf text-warning"></i>
                                    {% elif season == "Spring" %}
                                        <i class="fas fa-seedling text-success"></i>
                                    {% elif season == "Summer" %}
                                        <i class="fas fa-sun text-danger"></i>
                                    {% elif season == "Winter" %}
                                        <i class="fas fa-snowflake text-info"></i>
                                    {% endif %}
                                    {{ tip.title }}
                                </h5>

                                <!-- Tip Author (No Image, Admin/User Name Only) -->
                                <div class="text-center mt-3">
                                    <span class="fw-bold fs-5 text-primary">
                                        {% if tip.user %}
                                            {% if tip.user.is_superuser %}
                                                Admin
                                            {% else %}
                                                {{ tip.user.username }}
                                            {% endif %}
                                        {% else %}
                                            Unknown User
                                        {% endif %}
                                    </span>
                                </div>

                                <!-- Tip Content -->
                                <p class="card-text mt-3 text-muted">{{ tip.content|truncatewords:20 }}</p>

                                <!-- Star Ratings -->
                                <div class="rating d-flex justify-content-center mt-2">
                                    {% for i in "12345"|make_list %}
                                        {% if forloop.counter <= tip.rating %}
                                            <i class="fas fa-star text-warning fs-5 mx-1"></i>
                                        {% else %}
                                            <i class="far fa-star fs-5 mx-1"></i>
                                        {% endif %}
                                    {% endfor %}
                                </div>

                                <!-- Read More Button -->
                                <a href="#" class="btn btn-primary mt-3 px-4 py-2 fw-bold rounded-pill shadow">
                                    Read More
                                </a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="col-12 text-center no-tips season-group" data-season="{{ season|lower }}">
                    <p class="text-muted">No tips available for {{ season|title }}.</p>
                </div>
            {% endif %}
        {% endfor %}
    </div>
</div>
</section>

<!-- JavaScript: Filter by Season -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    const filterButtons = document.querySelectorAll(".filter-btn");
    const tipCards = document.querySelectorAll(".season-group");

    function filterTips(season) {
        let hasTips = false;
        tipCards.forEach((card) => {
            const cardSeason = card.getAttribute("data-season");
            if (season === "all" || cardSeason === season) {
                card.style.display = "flex";
                hasTips = true;
            } else {
                card.style.display = "none";
            }
        });

        // Show/hide "no tips" message
        document.querySelectorAll(".no-tips").forEach((noTip) => {
            noTip.style.display = hasTips ? "none" : "block";
        });
    }

    const currentSeason = "{{ user_preferred_season|default:'all' }}".toLowerCase();
    const defaultSeason = currentSeason !== "all" ? currentSeason : "all";
    filterTips(defaultSeason);

    filterButtons.forEach((btn) => {
        btn.classList.remove("active");
        if (btn.dataset.season === defaultSeason) btn.classList.add("active");
        btn.addEventListener("click", function () {
            const season = this.dataset.season;
            filterButtons.forEach(b => b.classList.remove("active"));
            this.classList.add("active");
            filterTips(season);
        });
    });
});
</script>


<!-- Gallery Start -->
<div class="mx-auto text-center mb-5" style="max-width: 900px;">
    <h5 class="section-title px-3">Photo Gallery</h5>
</div>

<!-- Photo Upload Form -->
<form method="POST" enctype="multipart/form-data" class="mb-4">
  {% csrf_token %}
  <div class="row justify-content-center g-2 align-items-center">
    <div class="col-md-4">
      <input type="file" name="image" class="form-control" required>
    </div>
    <div class="col-md-4">
      <input type="text" name="caption" class="form-control" placeholder="Caption">
    </div>
    <div class="col-md-2">
      <button type="submit" name="upload_photo" class="btn btn-dark w-100">Upload Photo</button>
    </div>
  </div>
</form>

<!-- Gallery Images -->
<div class="row g-4">
  {% for photo in photos %}
  <div class="col-lg-4 col-md-6">
    <div class="border shadow rounded overflow-hidden position-relative bg-white">

      <!-- Image with overlay -->
      <div class="position-relative">
        <img src="{{ photo.image.url }}" class="img-fluid w-100" style="height: 250px; object-fit: cover;" alt="{{ photo.caption }}">
        <div class="position-absolute top-0 start-0 w-100 d-flex justify-content-between align-items-center bg-dark bg-opacity-50 text-white px-3 py-2 small">
          <span><i class="fa fa-calendar-alt me-1"></i> {{ photo.upload_date|date:"d M Y" }}</span>
          <span>
            <i class="fa fa-thumbs-up me-1"></i> {{ photo.like_count }}
            <i class="fa fa-comments ms-3 me-1"></i> {{ photo.comments|length }}
          </span>
        </div>
      </div>

      <!-- Text Content -->
      <div class="p-3">
        <p class="mb-1 small text-muted">üìç Posted by <strong>{{ photo.uploaded_by.username }}</strong></p>
        <h5 class="fw-bold mb-1">{{ photo.caption }}</h5>
        <p class="small text-muted">Travelers love sharing their experiences. Join them by posting yours!</p>

        <!-- Like, Delete, Share Buttons -->
        <div class="d-flex justify-content-between flex-wrap gap-2 mb-2">
          <!-- Like Button -->
          <form method="POST" class="d-inline">
            {% csrf_token %}
            <input type="hidden" name="photo_id" value="{{ photo.id }}">
            <button type="submit" name="like_photo" class="btn btn-sm btn-outline-primary">
              ‚ù§Ô∏è Like
            </button>
          </form>

          <!-- Delete Button (Only Owner) -->
          {% if photo.uploaded_by == user %}
          <form method="POST" class="d-inline">
            {% csrf_token %}
            <input type="hidden" name="photo_id" value="{{ photo.id }}">
            <button type="submit" name="delete_photo" class="btn btn-sm btn-outline-danger">
              üóëÔ∏è Delete
            </button>
          </form>
          {% endif %}

          <!-- Share Button (Twitter) -->
          <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri|slice:':-1' }}{{ photo.image.url }}&text={{ photo.caption|urlencode }}"
             target="_blank"
             class="btn btn-sm btn-outline-secondary">
             üîó Share
          </a>
        </div>

        <!-- Comments Section -->
        <div class="comments-section">
          <ul class="list-unstyled small mb-2">
            {% for interaction in photo.comments %}
              <li><strong>{{ interaction.user.username }}</strong>: {{ interaction.comment }}</li>
            {% endfor %}
          </ul>

          <!-- Add Comment -->
          <form method="POST" class="input-group input-group-sm">
            {% csrf_token %}
            <input type="hidden" name="photo_id" value="{{ photo.id }}">
            <input type="text" name="comment" class="form-control" placeholder="Add a comment...">
            <button type="submit" name="comment_photo" class="btn btn-outline-primary">Post</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  {% empty %}
    <p class="text-center text-muted">No photos uploaded yet. Be the first to share!</p>
  {% endfor %}
</div>


   <!-- Tour Booking Start -->
    {% load widget_tweaks %}

<section class="py-5" style="background-color: #0a2647;">
    <div class="container">
        <div class="row g-5 align-items-start">
            <!-- Booking Form -->
            <div class="col-lg-6">
                <div class="bg-white p-4 rounded shadow-sm">
                    <h4 class="mb-3 text-primary">Book Your Tour</h4>
                    <form method="POST" novalidate>
                        {% csrf_token %}
                        <div class="row g-3">
                            <!-- Name -->
                            <div class="col-md-6">
                                <label for="{{ form.name.id_for_label }}" class="form-label">Your Name</label>
                                {{ form.name|add_class:"form-control" }}
                            </div>

                            <!-- Email -->
                            <div class="col-md-6">
                                <label for="{{ form.email.id_for_label }}" class="form-label">Your Email</label>
                                {{ form.email|add_class:"form-control" }}
                            </div>

                            <!-- Booking Date -->
                            <div class="col-md-6">
                                <label for="{{ form.booking_date.id_for_label }}" class="form-label">Date & Time</label>
                                {{ form.booking_date|add_class:"form-control" }}
                            </div>

                            <!-- Destination -->
                            <div class="col-md-6">
                                <label for="{{ form.destination.id_for_label }}" class="form-label">Destination</label>
                                {{ form.destination|add_class:"form-select" }}
                            </div>

                            <!-- Persons -->
                            <div class="col-md-6">
                                <label for="{{ form.persons.id_for_label }}" class="form-label">Persons</label>
                                {{ form.persons|add_class:"form-control" }}
                            </div>

                            <!-- Category -->
                            <div class="col-md-6">
                                <label for="{{ form.category.id_for_label }}" class="form-label">Categories</label>
                                {{ form.category|add_class:"form-select" }}
                            </div>

                            <!-- Special Request -->
                            <div class="col-12">
                                <label for="{{ form.special_request.id_for_label }}" class="form-label">Special Request</label>
                                {{ form.special_request|add_class:"form-control" }}
                            </div>

                            <!-- Submit -->
<div class="col-12">
    <button class="btn btn-primary w-100 py-2" type="submit" name="book_tour">Book Now</button>
</div>

                        </div>
                    </form>
                </div>
            </div>

            <!-- Third-Party Widgets -->
            <div class="col-lg-6">
                <div class="bg-white p-4 rounded shadow-sm mb-4">
                    <h5 class="text-primary mb-3">Search Nearby Hotels</h5>
                    <iframe
                        src="https://www.booking.com/searchresults.html?ss=Pakistan"
                        width="100%" height="300" frameborder="0"
                        style="border-radius: 8px;"></iframe>
                </div>
               <div class="bg-white p-4 rounded shadow-sm">
    <h5 class="text-primary mb-3">Find Cheap Flights</h5>
    <a href="https://www.skyscanner.net/" target="_blank" class="btn btn-outline-primary w-100 py-3">
        Search Flights on Skyscanner
    </a>
</div>

            </div>
        </div>
    </div>
</section>
<!-- Tour Booking End -->

<div class="dashboard-booking-section py-5 px-3">
    <h2 class="text-center mb-4 text-primary fw-bold">Your Bookings</h2>
    <div class="table-responsive">
        <table class="table table-hover table-bordered text-center booking-table-custom">
            <thead class="table-dark">
                <tr>
                    <th>Destination</th>
                    <th>Booking Date</th>
                    <th>Persons</th>
                    <th>Category</th>
                    <th>Status</th>
                    <th>Special Request</th>
                    <th>Paid</th>
                    <th>Payment Ref</th>
                    <th>Payment Date</th>
                </tr>
            </thead>
            <tbody>
                {% for booking in bookings %}
                <tr>
                    <td>{{ booking.destination.name }}</td>
                    <td>{{ booking.booking_date|date:"d M Y H:i" }}</td>
                    <td>{{ booking.persons }}</td>
                    <td>{{ booking.get_category_display }}</td>
                    <td><span class="badge bg-info">{{ booking.status }}</span></td>
                    <td>{{ booking.special_request }}</td>
                    <td>
                        {% if booking.is_paid %}
                            <span class="badge bg-success">Yes</span>
                        {% else %}
                            <span class="badge bg-danger">No</span>
                        {% endif %}
                    </td>
                    <td>{{ booking.payment_reference }}</td>
                    <td>{{ booking.payment_date|date:"d M Y" }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9" class="text-muted">No bookings found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- Save Trip Section -->
<div class="container py-5">
    <div class="text-center mb-4">
        <h5 class="text-uppercase text-primary fw-bold">Your Travel Diary</h5>
        <h2 class="fw-bold mb-3">Plan & Save Your Adventure</h2>
        <p class="text-muted">Choose your destination, dates, accommodation, and planned activities. Optionally mark as favorite or share it publicly.</p>
    </div>

    <form method="post" action="{% url 'users:dashboard' %}" class="row g-4 bg-white shadow p-4 rounded-4 border border-danger-subtle">
        {% csrf_token %}

        <!-- Destination -->
        <div class="col-md-4">
            <label class="form-label fw-semibold text-muted">Destination</label>
            {{ saved_trip_form.destination|add_class:"form-control" }}
        </div>

        <!-- From Date -->
        <div class="col-md-4">
            <label class="form-label fw-semibold text-muted">From Date</label>
            {{ saved_trip_form.travel_date_from|add_class:"form-control" }}
        </div>

        <!-- To Date -->
        <div class="col-md-4">
            <label class="form-label fw-semibold text-muted">To Date</label>
            {{ saved_trip_form.travel_date_to|add_class:"form-control" }}
        </div>

        <!-- Category -->
        <div class="col-md-6">
            <label class="form-label fw-semibold text-muted">Trip Category</label>
            {{ saved_trip_form.category|add_class:"form-select" }}
        </div>

        <!-- Accommodation -->
        <div class="col-md-6">
            <label class="form-label fw-semibold text-muted">Accommodation</label>
            {{ saved_trip_form.accommodation|add_class:"form-control" }}
        </div>

        <!-- Activities -->
        <div class="col-12">
            <label class="form-label fw-semibold text-muted">Planned Activities</label>
            {{ saved_trip_form.activities|add_class:"form-control" }}
        </div>

        <!-- Favorite & Shared -->
        <div class="col-12 d-flex justify-content-center gap-4">
            <div class="form-check">
                {{ saved_trip_form.favorite }}
                <label class="form-check-label text-muted">Mark as Favorite</label>
            </div>
            <div class="form-check">
                {{ saved_trip_form.shared }}
                <label class="form-check-label text-muted">Visible to Public</label>
            </div>
        </div>

        <!-- Submit Button -->
        <div class="col-12 text-center mt-2">
            <button type="submit" name="save_trip" class="btn btn-danger rounded-pill px-5 py-2">
                üíæ Save Trip
            </button>
        </div>

        <!-- Share Buttons -->
        <div class="col-12 text-center mt-4">
            <p class="fw-semibold text-muted mb-2">Share your tour:</p>
            <a href="https://twitter.com/intent/tweet?text=I'm%20planning%20a%20trip%20with%20Online%20Tourist%20Guide!%20Check%20it%20out%20üëâ%20{{ request.build_absolute_uri }}"
               class="btn btn-outline-primary me-2 rounded-pill px-4 py-1"
               target="_blank">
                <i class="bi bi-twitter me-1"></i>Share on Twitter
            </a>

            <a href="https://wa.me/?text=I'm%20planning%20a%20trip%20with%20Online%20Tourist%20Guide!%20Check%20it%20out:%20{{ request.build_absolute_uri }}"
               class="btn btn-outline-success rounded-pill px-4 py-1"
               target="_blank">
                <i class="bi bi-whatsapp me-1"></i>Share on WhatsApp
            </a>
            <a href="https://www.reddit.com/submit?url={{ request.build_absolute_uri }}"
   target="_blank" class="text-warning">
  <i class="fab fa-reddit fa-lg"></i> Share on Reddit
</a>

        </div>

        <!-- Form Errors -->
        {% if saved_trip_form.errors %}
            <div class="col-12">
                <div class="alert alert-danger mt-3 text-center">
                    Please fill out all required fields correctly.
                </div>
            </div>
        {% endif %}
    </form>
</div>

<!-- Saved Trips Section -->
<div class="container-fluid py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h5 class="section-title text-uppercase text-primary fw-semibold mb-2">Your Trips</h5>
            <h1 class="mb-3 fw-bold">Saved Travel Plans</h1>
            <p class="text-muted">View and reflect on your saved adventures.</p>
        </div>

        {% if saved_trips %}
            <div class="row g-4 justify-content-center">
                {% for trip in saved_trips %}
                    <div class="col-lg-4 col-md-6">
                        <div class="border rounded-4 shadow-sm overflow-hidden bg-white">
                            <div class="position-relative">
                                {% if trip.destination.image %}
                                    <img src="{{ trip.destination.image.url }}" class="img-fluid w-100" alt="Destination Image">
                                {% else %}
                                    <img src="/static/img/placeholder.jpg" class="img-fluid w-100" alt="No image">
                                {% endif %}
                                <div class="position-absolute top-0 start-0 bg-primary px-3 py-1 text-white rounded-end">
                                    {{ trip.destination.name }}
                                </div>
                            </div>
                            <div class="p-4">
                                <div class="d-flex justify-content-between mb-2">
                                    <small class="text-muted"><i class="fa fa-calendar-alt me-1 text-primary"></i>{{ trip.travel_date_from }} ‚Üí {{ trip.travel_date_to }}</small>
                                    {% if trip.favorite %}
                                        <small class="text-danger"><i class="fa fa-heart me-1"></i>Favorite</small>
                                    {% endif %}
                                </div>
                                <p class="mb-1"><strong>Planned By:</strong> {{ request.user.username }}</p>
                                <p class="mb-1"><strong>Category:</strong> {{ trip.category }}</p>
                                <p class="mb-1"><strong>Accommodation:</strong> {{ trip.accommodation|default:"N/A" }}</p>
                                <p class="mb-1"><strong>Activities:</strong> {{ trip.activities|default:"N/A" }}</p>
                                <p class="mb-3"><strong>Status:</strong>
                                    {% if trip.shared %}
                                        <span class="badge bg-success">Shared</span>
                                    {% else %}
                                        <span class="badge bg-secondary">Private</span>
                                    {% endif %}
                                </p>

                                <!-- ‚úÖ Delete Button -->
                                <form method="post" action="{% url 'delete_trip' trip.id %}">
                                    {% csrf_token %}
                                    <button type="submit" class="btn btn-sm btn-outline-danger w-100">
                                        <i class="fa fa-trash me-1"></i> Delete Trip
                                    </button>
                                </form>

                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center">
                <p class="text-muted">You haven't saved any trips yet. Start planning now!</p>
            </div>
        {% endif %}
    </div>
</div>

        <!-- Subscribe Start -->
        <div class="container-fluid subscribe py-5">
            <div class="container text-center py-5">
                <div class="mx-auto text-center" style="max-width: 900px;">
                    <h5 class="subscribe-title px-3">Subscribe</h5>
                    <h1 class="text-white mb-4">Our Newsletter</h1>
                    <p class="text-white mb-5">Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum tempore nam, architecto doloremque velit explicabo? Voluptate sunt eveniet fuga eligendi! Expedita laudantium fugiat corrupti eum cum repellat a laborum quasi.
                    </p>
                    <div class="position-relative mx-auto">
                        <input class="form-control border-primary rounded-pill w-100 py-3 ps-4 pe-5" type="text" placeholder="Your email">
                        <button type="button" class="btn btn-primary rounded-pill position-absolute top-0 end-0 py-2 px-4 mt-2 me-2">Subscribe</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Subscribe End -->

        <!-- Footer Start -->
        <div class="container-fluid footer py-5">
            <div class="container py-5">
                <div class="row g-5">
                    <div class="col-md-6 col-lg-6 col-xl-3">
                        <div class="footer-item d-flex flex-column">
                            <h4 class="mb-4 text-white">Get In Touch</h4>
                            <a href=""><i class="fas fa-home me-2"></i> 123 Street, New York, USA</a>
                            <a href=""><i class="fas fa-envelope me-2"></i> info@example.com</a>
                            <a href=""><i class="fas fa-phone me-2"></i> +012 345 67890</a>
                            <a href="" class="mb-3"><i class="fas fa-print me-2"></i> +012 345 67890</a>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-share fa-2x text-white me-2"></i>
                                <a class="btn-square btn btn-primary rounded-circle mx-1" href=""><i class="fab fa-facebook-f"></i></a>
                                <a class="btn-square btn btn-primary rounded-circle mx-1" href=""><i class="fab fa-twitter"></i></a>
                                <a class="btn-square btn btn-primary rounded-circle mx-1" href=""><i class="fab fa-instagram"></i></a>
                                <a class="btn-square btn btn-primary rounded-circle mx-1" href=""><i class="fab fa-linkedin-in"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-xl-3">
                        <div class="footer-item d-flex flex-column">
                            <h4 class="mb-4 text-white">Company</h4>
                            <a href=""><i class="fas fa-angle-right me-2"></i> About</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Careers</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Blog</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Press</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Gift Cards</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Magazine</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-xl-3">
                        <div class="footer-item d-flex flex-column">
                            <h4 class="mb-4 text-white">Support</h4>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Contact</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Legal Notice</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Privacy Policy</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Terms and Conditions</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Sitemap</a>
                            <a href=""><i class="fas fa-angle-right me-2"></i> Cookie policy</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6 col-xl-3">
                        <div class="footer-item">
                            <div class="row gy-3 gx-2 mb-4">
                                <div class="col-xl-6">
                                    <form>
                                        <div class="form-floating">
                                            <select class="form-select bg-dark border" id="select1">
                                                <option value="1">Arabic</option>
                                                <option value="2">German</option>
                                                <option value="3">Greek</option>
                                                <option value="3">New York</option>
                                            </select>
                                            <label for="select1">English</label>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-xl-6">
                                    <form>
                                        <div class="form-floating">
                                            <select class="form-select bg-dark border" id="select1">
                                                <option value="1">USD</option>
                                                <option value="2">EUR</option>
                                                <option value="3">INR</option>
                                                <option value="3">GBP</option>
                                            </select>
                                            <label for="select1">$</label>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <h4 class="text-white mb-3">Payments</h4>
                            <div class="footer-bank-card">
                                <a href="#" class="text-white me-2"><i class="fab fa-cc-amex fa-2x"></i></a>
                                <a href="#" class="text-white me-2"><i class="fab fa-cc-visa fa-2x"></i></a>
                                <a href="#" class="text-white me-2"><i class="fas fa-credit-card fa-2x"></i></a>
                                <a href="#" class="text-white me-2"><i class="fab fa-cc-mastercard fa-2x"></i></a>
                                <a href="#" class="text-white me-2"><i class="fab fa-cc-paypal fa-2x"></i></a>
                                <a href="#" class="text-white"><i class="fab fa-cc-discover fa-2x"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer End -->
        
        <!-- Copyright Start -->
        <div class="container-fluid copyright text-body py-4">
            <div class="container">
                <div class="row g-4 align-items-center">
                    <div class="col-md-6 text-center text-md-end mb-md-0">
                        <i class="fas fa-copyright me-2"></i><a class="text-white" href="#">Travel Guide</a>, All right reserved.
                    </div>
                    <!-- <div class="col-md-6 text-center text-md-start">
                        </*** This template is free as long as you keep the below author‚Äôs credit link/attribution link/backlink. ***/-->
                        <!--/*** If you'd like to use the template without the below author‚Äôs credit link/attribution link/backlink, ***/-->
                        <!--/*** you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". ***/-->
                        <!-- Designed By <a class="text-white" href="https://htmlcodex.com">HTML Codex</a>
                    </div> --> 
                </div>
            </div>
        </div>
        <!-- Copyright End -->

        <!-- Back to Top -->
        <a href="#" class="btn btn-primary btn-primary-outline-0 btn-md-square back-to-top"><i class="fa fa-arrow-up"></i></a>   

        

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- jQuery (Not always needed but useful for debugging) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static '/js/easing.min.js' %}"></script>
<script src="{% static '/js/waypoints.min.js' %}"></script>
<script src="{% static '/js/owl.carousel.min.js' %}"></script>
<script src="{% static '/js/lightbox.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/lightbox2@2.11.3/dist/js/lightbox.min.js"></script>
<!-- Template Javascript -->
<script src="{% static 'js/main.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    </body>

</html>